<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>UI Components Showcase – Daniel Torres Almeida</title>

  <!-- Live CSS from your sites -->
  <link rel="stylesheet" href="https://danielatorresalmeida.github.io/resume-site/assets/styles.css">
  <link rel="stylesheet" href="https://danielatorresalmeida.github.io/resume-site-only/assets/styles.css">

  <style>
    :root { --sidebar: 340px; }
    * { box-sizing: border-box; }
    body {
      margin: 0; height: 100vh; display: grid;
      grid-template-columns: var(--sidebar) 1fr;
      background: #0f1216; color: #e7ecf3; font-family: system-ui, sans-serif;
    }
    aside {
      border-right: 1px solid var(--border, #2a3441);
      background: var(--panel, #151a21);
      display: grid; grid-template-rows: auto auto 1fr;
      gap: 10px; padding: 14px;
    }
    .brand { font-weight: 700; font-size: 14px; letter-spacing: .6px; }
    .controls { display: grid; gap: 10px; }
    #q {
      width: 100%; padding: 10px 12px; border-radius: 10px;
      background: #0b0f14; color: #e7ecf3; border: 1px solid var(--border, #2a3441);
    }
    .hint { color:#9fb0c3; font-size:12px; }
    .thumbs {
      overflow: auto; padding-right: 4px;
      display: grid; grid-template-columns: repeat(auto-fill, minmax(150px,1fr)); gap: 10px;
    }
    .card {
      border: 1px solid var(--border, #2a3441); border-radius: 12px; overflow: hidden;
      background: #10151c; transition: transform .15s ease, box-shadow .15s ease, border-color .15s ease;
      cursor: pointer;
    }
    .card:hover { transform: translateY(-2px); box-shadow: 0 8px 20px rgba(0,0,0,.35); border-color: #334155; }
    .thumb-wrap { position: relative; height: 110px; background:#0b0f14; }
    .thumb {
      position:absolute; top:0; left:0; width:400px; height:260px; border:0; transform-origin: 0 0; transform: scale(.38);
      pointer-events:none; background:#0b0f14;
    }
    .meta { padding: 8px 10px; }
    .name { font-size: 13px; color:#fff; }
    .tags { margin-top: 4px; display:flex; flex-wrap:wrap; gap:6px; }
    .tag { font-size: 10px; color:#9fb0c3; padding: 2px 6px; border:1px solid var(--border,#2a3441); border-radius: 999px; }
    main { display:grid; grid-template-rows: auto 1fr; }
    header {
      height: 56px; display:flex; align-items:center; justify-content: space-between;
      padding: 0 12px; border-bottom: 1px solid var(--border, #2a3441); background: var(--panel, #151a21);
    }
    header h2 { margin:0; font-size: 15px; }
    .actions { display:flex; gap:8px; }
    .btn {
      padding: 8px 12px; border-radius: 10px; border:1px solid var(--border,#2a3441);
      background: var(--accent,#3b82f6); color:#fff; font-weight:600; text-decoration:none;
      transition: transform .15s ease, background .2s ease;
    }
    .btn:hover { transform: translateY(-1px); }
    .btn.ghost { background: transparent; color:#e7ecf3; }
    iframe#preview { width:100%; height: calc(100vh - 56px); border:0; background:#0f1216; }

    @media (max-width: 900px) {
      body { grid-template-columns: 1fr; grid-template-rows: 55% 45%; }
      aside { border-right:none; border-bottom:1px solid var(--border,#2a3441); }
      iframe#preview { height: 100%; }
    }
  </style>
</head>
<body>

  <aside>
    <div class="brand">UI Components</div>

    <div class="controls">
      <input id="q" type="search" placeholder="Search components or tags…" />
      <div class="hint">Tip: try <code>button</code>, <code>layout</code>, <code>forms</code>…</div>
    </div>

    <div id="grid" class="thumbs" aria-live="polite"></div>
  </aside>

  <main>
    <header>
      <h2 id="title">Select a component</h2>
      <div class="actions">
        <a id="openDemo" class="btn" target="_blank" rel="noopener">Open demo</a>
        <button id="copyHtml" class="btn ghost">Copy HTML</button>
        <a id="viewSrc" class="btn ghost" target="_blank" rel="noopener">Source</a>
      </div>
    </header>
    <iframe id="preview" title="Component preview"></iframe>
  </main>

  <script>
    // Base path for GitHub Pages (repo name)
    const BASE = '/ui-components';

    // Component manifest — make sure filenames match your /components folder
    const COMPONENTS = [
      {name:'Button',       file:'components/button.html',       tags:['controls','ui']},
      {name:'Navbar',       file:'components/navbar.html',       tags:['layout','navigation']},
      {name:'Hero',         file:'components/hero.html',         tags:['section','landing']},
      {name:'Form',         file:'components/form.html',         tags:['forms','inputs']},
      {name:'Contact',      file:'components/contact.html',      tags:['forms','section']},
      {name:'Footer',       file:'components/footer.html',       tags:['layout']},
      {name:'Gallery',      file:'components/gallery.html',      tags:['media','grid']},
      {name:'Grid',         file:'components/grid.html',         tags:['layout','utility']},
      {name:'Icon Set',     file:'components/iconset.html',      tags:['icons','assets']},
      {name:'Modal',        file:'components/modal.html',        tags:['overlay','dialog']},
      {name:'Project Card', file:'components/project-card.html', tags:['cards','content']},
      {name:'Resume',       file:'components/resume.html',       tags:['section','cv']},
      {name:'Section',      file:'components/section.html',      tags:['content','layout']},
      {name:'Sidebar',      file:'components/sidebar.html',      tags:['layout','navigation']},
      {name:'Testimonial',  file:'components/testimonial.html',  tags:['content','social-proof']},
      {name:'Timeline',     file:'components/timeline.html',     tags:['content','chronology']},
      {name:'Typography',   file:'components/typography.html',   tags:['type','styleguide']},
    ];

    const $ = (q, el=document) => el.querySelector(q);
    const grid    = $('#grid');
    const preview = $('#preview');
    const title   = $('#title');
    const q       = $('#q');
    const openDemo= $('#openDemo');
    const viewSrc = $('#viewSrc');
    const copyBtn = $('#copyHtml');

    const abs = (p) => p.startsWith('/') ? p : `${BASE}/${p}`;

    function render(list){
      grid.innerHTML = '';
      list.forEach(c => {
        const card = document.createElement('button');
        card.className = 'card';
        card.type = 'button';

        const thumbWrap = document.createElement('div');
        thumbWrap.className = 'thumb-wrap';

        const iframe = document.createElement('iframe');
        iframe.className = 'thumb';
        iframe.loading = 'lazy';
        iframe.src = abs(c.file); // live mini-preview
        thumbWrap.appendChild(iframe);

        const meta = document.createElement('div');
        meta.className = 'meta';
        meta.innerHTML = `<div class="name">${c.name}</div>
          <div class="tags">${c.tags.map(t => `<span class="tag">${t}</span>`).join('')}</div>`;

        card.appendChild(thumbWrap);
        card.appendChild(meta);
        card.addEventListener('click', () => select(c));
        grid.appendChild(card);
      });

      if (!list.length) grid.innerHTML = `<div class="hint">No results. Try a different term.</div>`;
    }

    function select(c){
      title.textContent = c.name + ' Component';

      const demoUrl = abs(c.file);

      // right pane preview
      preview.src = demoUrl;

      // actions
      openDemo.href = demoUrl;
      openDemo.target = '_blank';
      openDemo.rel = 'noopener';

      viewSrc.href = demoUrl;

      copyBtn.onclick = async () => {
        try {
          const res = await fetch(demoUrl, { cache: 'no-store' });
          const html = await res.text();
          await navigator.clipboard.writeText(html.trim());
          copyBtn.textContent = 'Copied!';
          setTimeout(() => (copyBtn.textContent = 'Copy HTML'), 1200);
        } catch (e) {
          console.error(e);
          alert('Copy failed.');
        }
      };
    }

    function search(term){
      const t = term.trim().toLowerCase();
      if (!t) return COMPONENTS;
      return COMPONENTS.filter(c => (c.name + ' ' + c.tags.join(' ')).toLowerCase().includes(t));
    }

    q.addEventListener('input', () => render(search(q.value)));

    // init
    render(COMPONENTS);
    select(COMPONENTS[0]);
  </script>
</body>
</html>
